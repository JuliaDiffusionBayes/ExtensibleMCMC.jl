<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Workspaces · ExtensibleMCMC.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">ExtensibleMCMC.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../get_started/basic_use/">Get started</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">User manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../internal_structure/">Internal structure</a></li><li><a class="tocitem" href="../mcmc/">MCMC</a></li><li><a class="tocitem" href="../updates_and_decorators/">Updates &amp; Decorators</a></li><li><a class="tocitem" href="../callbacks/">Callbacks</a></li><li><a class="tocitem" href="../priors/">Priors</a></li><li class="is-active"><a class="tocitem" href>Workspaces</a><ul class="internal"><li><a class="tocitem" href="#Workspaces-inheriting-from-GlobalWorkspace-1"><span>Workspaces inheriting from <code>GlobalWorkspace</code></span></a></li><li><a class="tocitem" href="#Workspaces-inheriting-from-LocalWorkspace-1"><span>Workspaces inheriting from <code>LocalWorkspace</code></span></a></li><li class="toplevel"><a class="tocitem" href="#Custom-Workspaces-1"><span>Custom <code>Workspaces</code></span></a></li><li><a class="tocitem" href="#Custom-GlobalWorkspace-1"><span>Custom <code>GlobalWorkspace</code></span></a></li><li class="toplevel"><a class="tocitem" href="#Custom-LocalWorkspace-1"><span>Custom <code>LocalWorkspace</code></span></a></li></ul></li><li><a class="tocitem" href="../mcmc_schedule/">MCMC Schedule</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How to...</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../how_to_guides/first_how_to/">(TODO) First how to</a></li><li><a class="tocitem" href="../../how_to_guides/define_my_own_workspace/">(TODO) Definy my own workspace</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../tutorials/mean_of_bivariate_gaussian/">Estimate mean of a bivariate Gaussian</a></li></ul></li><li><a class="tocitem" href="../../module_index/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User manual</a></li><li class="is-active"><a href>Workspaces</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Workspaces</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/master/docs/src/manual/workspaces.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="workspaces_explained-1"><a class="docs-heading-anchor" href="#workspaces_explained-1">The idea behind <code>Workspace</code>s</a><a class="docs-heading-anchor-permalink" href="#workspaces_explained-1" title="Permalink"></a></h1><p>Markov chain Monte Carlo algorithms often involve computationally expensive routines. As these often need to be repeated at each MCMC iteration, the MCMC algorithm may be sped up significantly by pre-allocating suitable containers on which all or a majority of computations are supposed to be performed. In <code>ExtensibleMCMC.jl</code> these containers are termed</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.Workspace" href="#ExtensibleMCMC.Workspace"><code>ExtensibleMCMC.Workspace</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Supertype of all workspaces—i.e. of structs that gather in one place various objects that the MCMC sampler operates on.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/types.jl#LL59-L62">source</a></section></article><p>There are two types of <code>Workspace</code>s:</p><ol><li><code>GlobalWorkspace</code>s and</li><li><code>LocalWorkspace</code>s</li></ol><h2 id="Workspaces-inheriting-from-GlobalWorkspace-1"><a class="docs-heading-anchor" href="#Workspaces-inheriting-from-GlobalWorkspace-1">Workspaces inheriting from <code>GlobalWorkspace</code></a><a class="docs-heading-anchor-permalink" href="#Workspaces-inheriting-from-GlobalWorkspace-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.GlobalWorkspace" href="#ExtensibleMCMC.GlobalWorkspace"><code>ExtensibleMCMC.GlobalWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GlobalWorkspace{T} &lt;: Workspace</code></pre><p>Supertype of all global workspaces. Each MCMC sampler must have a unique global workspace, which contains <code>state</code>, <code>state_history</code>, <code>state_proposal_history</code>, <code>acceptance_history</code> and <code>data</code>. <code>state</code> is the paramater vector that the MCMC sampling is done for (other names being self-explanatory).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/types.jl#LL65-L72">source</a></section></article><p><code>GlobalWorkspace</code>, is the master <code>Workspace</code> that is responsible for:</p><ul><li>keeping track of the MCMC chain, in particular the most recent <code>state</code> of the chain</li><li>holding the observed data (or at least a pointer to it)</li></ul><p>and optionally:</p><ul><li>holding containers for doing computations</li><li>keeping track of some online statistics regarding the chain</li><li>any other object that conceptually belongs to the scope of the chain and not the scope of the local MCMC updates</li></ul><p>We implement a generic version of <code>GlobalWorkspace</code> that may be suitable for simple problems. For more advanced problems the user will need to implement custom <code>GlobalWorkspace</code>s.</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.GenericGlobalWorkspace" href="#ExtensibleMCMC.GenericGlobalWorkspace"><code>ExtensibleMCMC.GenericGlobalWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct GenericGlobalWorkspace{T,TD,TL} &lt;: GlobalWorkspace{T}
    sub_ws::StandardGlobalSubworkspace{T,TD}
    P::TL
    P°::TL
end</code></pre><p>Generic global workspace with <code>sub_ws</code> containing current <code>state</code> and keeping track of its history and some basic statistics. <code>P</code> and <code>P°</code> are the target laws with accepted and proposal <code>state</code> set as parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL198-L208">source</a></section></article><p>where</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.StandardGlobalSubworkspace" href="#ExtensibleMCMC.StandardGlobalSubworkspace"><code>ExtensibleMCMC.StandardGlobalSubworkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct StandardGlobalSubworkspace{T,TD} &lt;: GlobalWorkspace{T}
    state::Vector{T}
    state_history::Vector{Vector{Vector{T}}}
    state_proposal_history::Vector{Vector{Vector{T}}}
    data::TD
    stats::GenericChainStats{T}
end</code></pre><p>Standard containers expected to be present in every global workspace. <code>state</code> is the currently accepted parameter θ, <code>state_history</code> is a chain of <code>state</code>s that have been accepted and <code>state_proposal_history</code> is a chain of <code>state</code>s that have been proposed. <code>data</code> are the data passed to an MCMC sampler (usually just a pointer) and <code>stats</code> gathers some basic online information about the chain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL142-L156">source</a></section></article><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>To see an example of an implementation of a custom <code>Workspace</code> see <a href="https://github.com/ JuliaDiffusionBayes/DiffusionMCMC.jl">DiffusionMCMC.jl</a>, where we implemented <code>DiffusionGlobalWorkspace</code> (and <code>DiffusionLocalWorkspace</code>).</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>StandardGlobalSubworkspace</code> is simply a collection of the most common fields present in <code>GlobalWorkspace</code>. As such, it doesn&#39;t need to be present in custom implementations of <code>GlobalWorkspace</code>, however, it will often be convenient to do so.</p></div></div><h2 id="Workspaces-inheriting-from-LocalWorkspace-1"><a class="docs-heading-anchor" href="#Workspaces-inheriting-from-LocalWorkspace-1">Workspaces inheriting from <code>LocalWorkspace</code></a><a class="docs-heading-anchor-permalink" href="#Workspaces-inheriting-from-LocalWorkspace-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.LocalWorkspace" href="#ExtensibleMCMC.LocalWorkspace"><code>ExtensibleMCMC.LocalWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LocalWorkspace{T} &lt;: Workspace</code></pre><p>Supertype of all local workspaces. Local workspace should contain any additional gathering of objects that are needed by specific updates, but are not are not already in a global workspace. Each MCMC update has its own <code>LocalWorkspace</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/types.jl#LL75-L81">source</a></section></article><p>Each MCMC <code>update</code> (for instance <code>RandomWalkUpdate</code>) will have its own <code>LocalWorkspace</code>. During updates it will have access to both its <code>LocalWorkspace</code> as well as the <code>GlobalWorkspace</code>, but it will not see <code>LocalWorkspace</code>s of other <code>update</code>s (however, information between <code>LocalWorkspace</code>s may be exchanged prior to each update call). Conceptually, the objects that fall under <code>LocalWorkspace</code> are those that</p><ul><li>belong only to a local scope (for instance, proposal <code>ϑ°</code> for a subset <code>ϑ</code> of all parameters <code>θ</code>, or the <code>∇log-likelihood</code>)</li><li>provide appropriately shaped views to a global view (for instance, a view to a subset of observations that are to be used for computations in this <code>update</code>, or a recipe for how to sub-sample the observations)</li></ul><p>Similarly to <code>GenericGlobalWorkspace</code>, we implement a generic version of <code>LocalWorkspace</code> suitable for simple problems. See <a href="https://github.com/JuliaDiffusionBayes/DiffusionMCMC.jl">DiffusionMCMC.jl</a> for a more advanced example.</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.GenericLocalWorkspace" href="#ExtensibleMCMC.GenericLocalWorkspace"><code>ExtensibleMCMC.GenericLocalWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct GenericLocalWorkspace{T} &lt;: LocalWorkspace{T}
    sub_ws::StandardLocalSubworkspace{T}
    sub_ws°::StandardLocalSubworkspace{T}
    acceptance_history::Vector{Bool}
end</code></pre><p>Generic local workspace with <code>sub_ws</code> containing a subset of <code>state</code> that the corresponding updates operates on, with currently accepted value of <code>state</code> as well as its log-likelihood. <code>sub_ws°</code> corresponds to a proposal <code>state</code>. <code>acceptance_history</code> keeps track of accept/reject decisions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL443-L454">source</a></section></article><p>where</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.StandardLocalSubworkspace" href="#ExtensibleMCMC.StandardLocalSubworkspace"><code>ExtensibleMCMC.StandardLocalSubworkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct StandardLocalSubworkspace{T} &lt;: LocalWorkspace{T}
    state::Vector{T}
    ll::Vector{Float64}
    ll_history::Vector{Vector{Float64}}
    ∇ll::Vector{Vector{Float64}}
    momentum::Vector{Float64}
end</code></pre><p>Standard containers likely to be present in every local workspace. <code>state</code> is the currently accepted <em>subset</em> of parameter θ that the corresponding update operates on, <code>ll</code> is the corresponding log-likelihood and <code>ll_history</code> is the chain of log-likelihoods. A single <code>ll</code> is of the type <code>Vector{Float64}</code> to reflect the fact that a problem might admit a natural factorisation into independent components that may be operated on independently, in parallel with each entry in <code>ll</code> corresponding to a separate component. <code>∇ll</code> is the gradient of log-likelihood (needed by gradient-based algorithms) and <code>momentum</code> is the variable needed for the Hamiltionan dynamics. <code>∇ll</code> and <code>momentum</code> may be simply left untouched if the problem does not need them.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL395-L414">source</a></section></article><hr/><hr/><h1 id="Custom-Workspaces-1"><a class="docs-heading-anchor" href="#Custom-Workspaces-1">Custom <code>Workspaces</code></a><a class="docs-heading-anchor-permalink" href="#Custom-Workspaces-1" title="Permalink"></a></h1><hr/><p>One of the most important aspects of <code>ExtensibleMCMC.jl</code> is customizability of <code>Workspace</code>s. Below, we describe how to define your own <code>Workspace</code>s.</p><h2 id="Custom-GlobalWorkspace-1"><a class="docs-heading-anchor" href="#Custom-GlobalWorkspace-1">Custom <code>GlobalWorkspace</code></a><a class="docs-heading-anchor-permalink" href="#Custom-GlobalWorkspace-1" title="Permalink"></a></h2><hr/><p>Each <code>&lt;CUSTOM&gt;GlobalWorskspace</code> needs to inherit from <code>GlobalWorkspace</code>. Apart from struct definition we need to provide a <code>&lt;CUSTOM&gt;Backend</code> inheriting from:</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.MCMCBackend" href="#ExtensibleMCMC.MCMCBackend"><code>ExtensibleMCMC.MCMCBackend</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Supertype of all backends for the MCMC sampler.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/types.jl#LL99-L101">source</a></section></article><p>that will help Julia choose suitable initializers.</p><p>Additionally, if you plan on re-using some components of <code>ExtensibleMCMC.jl</code>, then the following methods <strong>MUST</strong> be defined for your <code>&lt;CUSTOM&gt;GlobalWorskspace</code> (using  <code>&lt;CUSTOM&gt;GlobalWorskspace</code> in place of <code>GlobalWorkspace</code> and <code>&lt;CUSTOM&gt;Backend</code> in place of <code>MCMCBackend</code>):</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.init_global_workspace-Union{Tuple{T}, Tuple{ExtensibleMCMC.MCMCBackend,ExtensibleMCMC.MCMCSchedule,Array{#s1,1} where #s1&lt;:ExtensibleMCMC.MCMCUpdate,Any,Array{T,1}}} where T" href="#ExtensibleMCMC.init_global_workspace-Union{Tuple{T}, Tuple{ExtensibleMCMC.MCMCBackend,ExtensibleMCMC.MCMCSchedule,Array{#s1,1} where #s1&lt;:ExtensibleMCMC.MCMCUpdate,Any,Array{T,1}}} where T"><code>ExtensibleMCMC.init_global_workspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">init_global_workspace(
    ::MCMCBackend,
    num_mcmc_steps,
    updates::Vector{&lt;:MCMCUpdate},
    data,
    θinit::Vector{T};
    kwargs...
) where T</code></pre><p>Initialize the <code>&lt;custom&gt;GlobalWorkspace</code>. <code>&lt;custom&gt;MCMCBackend</code> points to which <code>GlobalWorkspace</code> constructors to use, <code>updates</code> is a list of MCMC updates, <code>θinit</code> is the initial guess for the parameter and <code>kwargs</code> are the named arguments passed to <code>run!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL23-L37">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StatsBase.loglikelihood-Tuple{ExtensibleMCMC.GlobalWorkspace,ExtensibleMCMC.Proposal}" href="#StatsBase.loglikelihood-Tuple{ExtensibleMCMC.GlobalWorkspace,ExtensibleMCMC.Proposal}"><code>StatsBase.loglikelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">loglikelihood(ws::GlobalWorkspace, ::Proposal)</code></pre><p>Evaluate the loglikelihood for the proposal Law and observations stored in a global workspace.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL49-L54">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StatsBase.loglikelihood-Tuple{ExtensibleMCMC.GlobalWorkspace,ExtensibleMCMC.Previous}" href="#StatsBase.loglikelihood-Tuple{ExtensibleMCMC.GlobalWorkspace,ExtensibleMCMC.Previous}"><code>StatsBase.loglikelihood</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">loglikelihood(ws::GlobalWorkspace, ::Previous)</code></pre><p>Evaluate the loglikelihood for the accepted Law and observations stored in a global workspace.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL64-L69">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>When you are overriding <code>loglikelihood</code>, then do so via <a href="https://github.com/JuliaDiffusionBayes/StatsBase.jl">StatsBase.jl</a> or <a href="https://github.com/JuliaDiffusionBayes/Distributions.jl">Distributions.jl</a> , where the function name originally belongs to, i.e.:</p><pre><code class="language-julia">using StatsBase
const eMCMC = ExtensibleMCMC
StatsBase.loglikelihood(ws::CUSTOMGlobalWorkspace, ::eMCMC.Proposal) = ...
StatsBase.loglikelihood(ws::CUSTOMGlobalWorkspace, ::eMCMC.Previous) = ...</code></pre></div></div><p>If <code>&lt;CUSTOM&gt;GlobalWorskspace</code> contains a field <code>sub_ws::StandardGlobalSubworkspace</code>, then the methods below will work automatically. If it does not, then you should implement them for your <code>&lt;CUSTOM&gt;GlobalWorskspace</code>:</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.num_mcmc_steps-Tuple{ExtensibleMCMC.GlobalWorkspace}" href="#ExtensibleMCMC.num_mcmc_steps-Tuple{ExtensibleMCMC.GlobalWorkspace}"><code>ExtensibleMCMC.num_mcmc_steps</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">num_mcmc_steps(ws::GlobalWorkspace)</code></pre><p>Return the total set number of MCMC iterations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL86-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.state-Tuple{ExtensibleMCMC.GlobalWorkspace}" href="#ExtensibleMCMC.state-Tuple{ExtensibleMCMC.GlobalWorkspace}"><code>ExtensibleMCMC.state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">state(ws::GlobalWorkspace)</code></pre><p>Return currently accepted state of the chain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL93-L97">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.state-Tuple{ExtensibleMCMC.GlobalWorkspace,Any}" href="#ExtensibleMCMC.state-Tuple{ExtensibleMCMC.GlobalWorkspace,Any}"><code>ExtensibleMCMC.state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">state(ws::GlobalWorkspace, step)</code></pre><p>Return the state of the chain accepted at the the <code>step</code> iteration of the Markov chain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL100-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.state°-Tuple{ExtensibleMCMC.GlobalWorkspace,Any}" href="#ExtensibleMCMC.state°-Tuple{ExtensibleMCMC.GlobalWorkspace,Any}"><code>ExtensibleMCMC.state°</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">state°(ws::GlobalWorkspace, step)</code></pre><p>Return the state of the chain proposed at the the <code>step</code> iteration of the Markov chain.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL108-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.num_updt-Tuple{ExtensibleMCMC.GlobalWorkspace}" href="#ExtensibleMCMC.num_updt-Tuple{ExtensibleMCMC.GlobalWorkspace}"><code>ExtensibleMCMC.num_updt</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">num_updt(ws::GlobalWorkspace)</code></pre><p>Return the total set number of MCMC updates that may be performed at each MCMC iteration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL116-L121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.estim_mean-Tuple{ExtensibleMCMC.GlobalWorkspace}" href="#ExtensibleMCMC.estim_mean-Tuple{ExtensibleMCMC.GlobalWorkspace}"><code>ExtensibleMCMC.estim_mean</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">estim_mean(ws::GlobalWorkspace)</code></pre><p>Return the empirical mean of the parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL124-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.estim_cov-Tuple{ExtensibleMCMC.GlobalWorkspace}" href="#ExtensibleMCMC.estim_cov-Tuple{ExtensibleMCMC.GlobalWorkspace}"><code>ExtensibleMCMC.estim_cov</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">estim_cov(ws::GlobalWorkspace)</code></pre><p>Return the empirical covariance of the parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL131-L135">source</a></section></article><h1 id="Custom-LocalWorkspace-1"><a class="docs-heading-anchor" href="#Custom-LocalWorkspace-1">Custom <code>LocalWorkspace</code></a><a class="docs-heading-anchor-permalink" href="#Custom-LocalWorkspace-1" title="Permalink"></a></h1><hr/><p>Each <code>&lt;CUSTOM&gt;LocalWorskspace</code> needs to inherit from <code>LocalWorkspace</code>. Additionally, if you plan on re-using some components of <code>ExtensibleMCMC.jl</code>, then the following methods <strong>MUST</strong> be defined for your <code>&lt;CUSTOM&gt;LocalWorskspace</code> (using  <code>&lt;CUSTOM&gt;LocalWorskspace</code> in place of <code>LocalWorkspace</code>):</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.create_workspace-Union{Tuple{T}, Tuple{ExtensibleMCMC.MCMCBackend,Any,ExtensibleMCMC.GlobalWorkspace,Any}} where T" href="#ExtensibleMCMC.create_workspace-Union{Tuple{T}, Tuple{ExtensibleMCMC.MCMCBackend,Any,ExtensibleMCMC.GlobalWorkspace,Any}} where T"><code>ExtensibleMCMC.create_workspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">create_workspace(
    ::MCMCBackend,
    mcmcupdate,
    global_ws::GlobalWorkspace,
    num_mcmc_steps
) where {T}</code></pre><p>Create a local workspace for a given <code>mcmcupdate</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL270-L279">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.accepted-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}" href="#ExtensibleMCMC.accepted-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}"><code>ExtensibleMCMC.accepted</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">accepted(ws::LocalWorkspace, i::Int)</code></pre><p>Return boolean for whether the ith update has been accepted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL289-L293">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.set_accepted!-Tuple{ExtensibleMCMC.LocalWorkspace,Int64,Any}" href="#ExtensibleMCMC.set_accepted!-Tuple{ExtensibleMCMC.LocalWorkspace,Int64,Any}"><code>ExtensibleMCMC.set_accepted!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_accepted!(ws::LocalWorkspace, i::Int, v)</code></pre><p>Set boolean for whether the ith update has been accepted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL298-L302">source</a></section></article><p>If your <code>&lt;CUSTOM&gt;LocalWorskspace</code> contains <code>sub_ws::StandardGlobalSubworkspace</code> and <code>sub_ws°::StandardGlobalSubworkspace</code> as its fields then the methods below will work automatically:</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.ll-Tuple{ExtensibleMCMC.LocalWorkspace}" href="#ExtensibleMCMC.ll-Tuple{ExtensibleMCMC.LocalWorkspace}"><code>ExtensibleMCMC.ll</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ll(ws::LocalWorkspace)</code></pre><p>Return log-likelihood of the currently accepted parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL313-L317">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.ll°-Tuple{ExtensibleMCMC.LocalWorkspace}" href="#ExtensibleMCMC.ll°-Tuple{ExtensibleMCMC.LocalWorkspace}"><code>ExtensibleMCMC.ll°</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ll°(ws::LocalWorkspace)</code></pre><p>Return log-likelihood of the currently proposed parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL320-L324">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.ll-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}" href="#ExtensibleMCMC.ll-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}"><code>ExtensibleMCMC.ll</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ll(ws::LocalWorkspace, i::Int)</code></pre><p>Return log-likelihood of the ith accepted parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL327-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.ll°-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}" href="#ExtensibleMCMC.ll°-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}"><code>ExtensibleMCMC.ll°</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ll°(ws::LocalWorkspace, i::Int)</code></pre><p>Return log-likelihood of the ith proposed parameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL334-L338">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.state-Tuple{ExtensibleMCMC.LocalWorkspace}" href="#ExtensibleMCMC.state-Tuple{ExtensibleMCMC.LocalWorkspace}"><code>ExtensibleMCMC.state</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">state(ws::LocalWorkspace)</code></pre><p>Return the last accepted state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL341-L345">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.state°-Tuple{ExtensibleMCMC.LocalWorkspace}" href="#ExtensibleMCMC.state°-Tuple{ExtensibleMCMC.LocalWorkspace}"><code>ExtensibleMCMC.state°</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">state°(ws::LocalWorkspace)</code></pre><p>Return the last proposed state.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL348-L352">source</a></section></article><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p>The function names associated with proposals end on a character <code>°</code>, which in <a href="https://atom.io/">Atom</a> can be displayed with <code>\degree</code> and has a unicode: <code>U+00B0</code>.</p></div></div><p>Finally, there are some functions that are likely to work for custom <code>LocalWorkspace</code>s, but you are advised to check for compatibility:</p><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.create_workspaces-Tuple{ExtensibleMCMC.MCMCBackend,MCMC}" href="#ExtensibleMCMC.create_workspaces-Tuple{ExtensibleMCMC.MCMCBackend,MCMC}"><code>ExtensibleMCMC.create_workspaces</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">create_workspaces(v::MCMCBackend, mcmc::MCMC)</code></pre><p>Create local workspaces, one for each update.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL359-L363">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.llr-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}" href="#ExtensibleMCMC.llr-Tuple{ExtensibleMCMC.LocalWorkspace,Int64}"><code>ExtensibleMCMC.llr</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">llr(ws::LocalWorkspace, i::Int)</code></pre><p>Compute log-likelihood ratio at ith mcmc iteration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL375-L379">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ExtensibleMCMC.name_of_update-Tuple{ExtensibleMCMC.LocalWorkspace}" href="#ExtensibleMCMC.name_of_update-Tuple{ExtensibleMCMC.LocalWorkspace}"><code>ExtensibleMCMC.name_of_update</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">name_of_update(ws::LocalWorkspace)</code></pre><p>Return the name of the update.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDiffusionBayes/ExtensibleMCMC.jl/blob/1bed9e2ae5857fd9a4d6c2278a2fc1da9efb47aa/src/workspaces.jl#LL382-L386">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../priors/">« Priors</a><a class="docs-footer-nextpage" href="../mcmc_schedule/">MCMC Schedule »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 24 May 2020 15:16">Sunday 24 May 2020</span>. Using Julia version 1.4.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
